import{a as Be,R as m}from"./index.d93609e1.js";const Hr=({size:e="48",...t})=>{const r=+e*.9375;return Be("svg",{width:r,height:e,viewBox:"0 0 45 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:Be("path",{d:"M38.8535 7.79156L28.0165 1.5383C24.4707 -0.512767 20.1259 -0.512767 16.5802 1.5383L5.69318 7.79156C2.19737 9.84263 0 13.6446 0 17.6967V30.2533C0 34.3554 2.19737 38.1073 5.69318 40.1584L16.5302 46.4617C20.076 48.5128 24.4208 48.5128 27.9665 46.4617L38.8036 40.1584C42.3493 38.1073 44.4967 34.3554 44.4967 30.2533V17.6967C44.5966 13.6446 42.3992 9.84263 38.8535 7.79156ZM22.2733 35.1558C16.1307 35.1558 11.1367 30.1532 11.1367 24C11.1367 17.8468 16.1307 12.8442 22.2733 12.8442C28.416 12.8442 33.4599 17.8468 33.4599 24C33.4599 30.1532 28.4659 35.1558 22.2733 35.1558Z",fill:"#8B5CF6"})})};var ce=e=>e.type==="checkbox",se=e=>e instanceof Date,P=e=>e==null;const tr=e=>typeof e=="object";var T=e=>!P(e)&&!Array.isArray(e)&&tr(e)&&!se(e),sr=e=>T(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,kr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ir=(e,t)=>e.has(kr(t)),ae=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,t,r)=>{if(!t||!T(e))return r;const i=ae(t.split(/[,[\].]+?/)).reduce((n,l)=>P(n)?n:n[l],e);return C(i)||i===e?C(e[t])?r:e[t]:i};const he={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nr=m.createContext(null),be=()=>m.useContext(nr),Kr=e=>{const{children:t,...r}=e;return Be(nr.Provider,{value:r,children:t})};var ar=(e,t,r,i=!0)=>{const n={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const h=l;return t._proxyFormState[h]!==$.all&&(t._proxyFormState[h]=!i||$.all),r&&(r[h]=!0),e[h]}});return n},I=e=>T(e)&&!Object.keys(e).length,ur=(e,t,r)=>{const{name:i,...n}=e;return I(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(l=>t[l]===(!r||$.all))},q=e=>Array.isArray(e)?e:[e],lr=(e,t,r)=>r&&t?e===t:!e||!t||e===t||q(e).some(i=>i&&(i.startsWith(t)||t.startsWith(i)));function Fe(e){const t=m.useRef(e);t.current=e,m.useEffect(()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Sr(e){const t=be(),{control:r=t.control,disabled:i,name:n,exact:l}=e||{},[h,d]=m.useState(r._formState),A=m.useRef(!0),w=m.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),k=m.useRef(n);return k.current=n,Fe({disabled:i,callback:m.useCallback(b=>A.current&&lr(k.current,b.name,l)&&ur(b,w.current)&&d({...r._formState,...b}),[r,l]),subject:r._subjects.state}),m.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),ar(h,r,w.current,!1)}var Q=e=>typeof e=="string",or=(e,t,r,i)=>{const n=Array.isArray(e);return Q(e)?(i&&t.watch.add(e),c(r,e)):n?e.map(l=>(i&&t.watch.add(l),c(r,l))):(i&&(t.watchAll=!0),r)},Cr=e=>{const t=e.constructor&&e.constructor.prototype;return T(t)&&t.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Pe&&(e instanceof Blob||e instanceof FileList))&&(r||T(e)))if(t=r?[]:{},!Array.isArray(e)&&!Cr(e))t=e;else for(const i in e)t[i]=j(e[i]);else return e;return t}function Dr(e){const t=be(),{control:r=t.control,name:i,defaultValue:n,disabled:l,exact:h}=e||{},d=m.useRef(i);d.current=i,Fe({disabled:l,subject:r._subjects.watch,callback:m.useCallback(k=>{if(lr(d.current,k.name,h)){const b=or(d.current,r._names,k.values||r._formValues);w(C(d.current)||!C(b)?j(b):C(b)?n:b)}},[r,h,n])});const[A,w]=m.useState(C(n)?r._getWatch(i):n);return m.useEffect(()=>r._removeUnmounted()),A}function Er(e){const t=be(),{name:r,control:i=t.control,shouldUnregister:n}=e,l=ir(i._names.array,r),h=Dr({control:i,name:r,defaultValue:c(i._formValues,r,c(i._defaultValues,r,e.defaultValue)),exact:!0}),d=Sr({control:i,name:r}),A=m.useRef(i.register(r,{...e.rules,value:h}));return m.useEffect(()=>{const w=(k,b)=>{const x=c(i._fields,k);x&&(x._f.mount=b)};return w(r,!0),()=>{const k=i._options.shouldUnregister||n;(l?k&&!i._stateFlags.action:k)?i.unregister(r):w(r,!1)}},[r,i,l,n]),{field:{name:r,value:h,onChange:m.useCallback(w=>A.current.onChange({target:{value:sr(w),name:r},type:he.CHANGE}),[r]),onBlur:m.useCallback(()=>A.current.onBlur({target:{value:c(i._formValues,r),name:r},type:he.BLUR}),[r,i]),ref:w=>{const k=c(i._fields,r);k&&w&&(k._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:b=>w.setCustomValidity(b),reportValidity:()=>w.reportValidity()})}},formState:d,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!c(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!c(d.touchedFields,r)},error:{enumerable:!0,get:()=>c(d.errors,r)}})}}const Zr=e=>e.render(Er(e));var Rr=(e,t,r,i,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:n||!0}}:{},We=e=>/^\w*$/.test(e),cr=e=>ae(e.replace(/["|']|\]/g,"").split(/\.|\[/));function E(e,t,r){let i=-1;const n=We(t)?[t]:cr(t),l=n.length,h=l-1;for(;++i<l;){const d=n[i];let A=r;if(i!==h){const w=e[d];A=T(w)||Array.isArray(w)?w:isNaN(+n[i+1])?{}:[]}e[d]=A,e=e[d]}return e}const ge=(e,t,r)=>{for(const i of r||Object.keys(e)){const n=c(e,i);if(n){const{_f:l,...h}=n;if(l&&t(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else T(h)&&ge(h,t)}}};var Y=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},pe=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",Ne=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length)))),fr=(e,t,r)=>{const i=ae(c(e,r));return E(i,"root",t[r]),E(e,r,i),e},ne=e=>typeof e=="boolean",$e=e=>e.type==="file",_e=e=>typeof e=="function",ye=e=>Q(e)||m.isValidElement(e),He=e=>e.type==="radio",ve=e=>e instanceof RegExp;const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var dr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe};const Ye={isValid:!1,value:null};var yr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Ye):Ye;function ze(e,t,r="validate"){if(ye(e)||Array.isArray(e)&&e.every(ye)||ne(e)&&!e)return{type:r,message:ye(e)?e:"",ref:t}}var te=e=>T(e)&&!ve(e)?e:{value:e,message:""},Ie=async(e,t,r,i,n)=>{const{ref:l,refs:h,required:d,maxLength:A,minLength:w,min:k,max:b,pattern:x,validate:D,name:N,valueAsNumber:ee,mount:ue,disabled:H}=e._f;if(!ue||H)return{};const K=h?h[0]:l,Z=F=>{i&&K.reportValidity&&(K.setCustomValidity(ne(F)?"":F||""),K.reportValidity())},R={},z=He(l),_=ce(l),v=z||_,V=(ee||$e(l))&&!l.value||t===""||Array.isArray(t)&&!t.length,S=Rr.bind(null,N,r,R),J=(F,p,O,M=X.maxLength,G=X.minLength)=>{const W=F?p:O;R[N]={type:F?M:G,message:W,ref:l,...S(F?M:G,W)}};if(n?!Array.isArray(t)||!t.length:d&&(!v&&(V||P(t))||ne(t)&&!t||_&&!dr(h).isValid||z&&!yr(h).isValid)){const{value:F,message:p}=ye(d)?{value:!!d,message:d}:te(d);if(F&&(R[N]={type:X.required,message:p,ref:K,...S(X.required,p)},!r))return Z(p),R}if(!V&&(!P(k)||!P(b))){let F,p;const O=te(b),M=te(k);if(!P(t)&&!isNaN(t)){const G=l.valueAsNumber||t&&+t;P(O.value)||(F=G>O.value),P(M.value)||(p=G<M.value)}else{const G=l.valueAsDate||new Date(t),W=fe=>new Date(new Date().toDateString()+" "+fe),le=l.type=="time",re=l.type=="week";Q(O.value)&&t&&(F=le?W(t)>W(O.value):re?t>O.value:G>new Date(O.value)),Q(M.value)&&t&&(p=le?W(t)<W(M.value):re?t<M.value:G<new Date(M.value))}if((F||p)&&(J(!!F,O.message,M.message,X.max,X.min),!r))return Z(R[N].message),R}if((A||w)&&!V&&(Q(t)||n&&Array.isArray(t))){const F=te(A),p=te(w),O=!P(F.value)&&t.length>F.value,M=!P(p.value)&&t.length<p.value;if((O||M)&&(J(O,F.message,p.message),!r))return Z(R[N].message),R}if(x&&!V&&Q(t)){const{value:F,message:p}=te(x);if(ve(F)&&!t.match(F)&&(R[N]={type:X.pattern,message:p,ref:l,...S(X.pattern,p)},!r))return Z(p),R}if(D){if(_e(D)){const F=await D(t),p=ze(F,K);if(p&&(R[N]={...p,...S(X.validate,p.message)},!r))return Z(p.message),R}else if(T(D)){let F={};for(const p in D){if(!I(F)&&!r)break;const O=ze(await D[p](t),K,p);O&&(F={...O,...S(p,O.message)},Z(O.message),r&&(R[N]=F))}if(!I(F)&&(R[N]={ref:K,...F},!r))return R}}return Z(!0),R};function ke(e,t){return[...e,...q(t)]}var Se=e=>Array.isArray(e)?e.map(()=>{}):void 0,je=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched});function Ce(e,t,r){return[...e.slice(0,t),...q(r),...e.slice(t)]}var De=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function Ee(e,t){return[...q(t),...q(e)]}function Lr(e,t){let r=0;const i=[...e];for(const n of t)i.splice(n-r,1),r++;return ae(i).length?i:[]}var Re=(e,t)=>C(t)?[]:Lr(e,q(t).sort((r,i)=>r-i)),Le=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function Or(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=C(e)?i++:e[t[i++]];return e}function Tr(e){for(const t in e)if(!C(e[t]))return!1;return!0}function U(e,t){const r=We(t)?[t]:cr(t),i=r.length==1?e:Or(e,r),n=r[r.length-1];let l;i&&delete i[n];for(let h=0;h<r.slice(0,-1).length;h++){let d=-1,A;const w=r.slice(0,-(h+1)),k=w.length-1;for(h>0&&(l=e);++d<w.length;){const b=w[d];A=A?A[b]:e[b],k===d&&(T(A)&&I(A)||Array.isArray(A)&&Tr(A))&&(l?delete l[b]:delete e[b]),l=A}}return e}var er=(e,t,r)=>(e[t]=r,e);function Gr(e){const t=be(),{control:r=t.control,name:i,keyName:n="id",shouldUnregister:l}=e,[h,d]=m.useState(r._getFieldArray(i)),A=m.useRef(r._getFieldArray(i).map(Y)),w=m.useRef(h),k=m.useRef(i),b=m.useRef(!1);k.current=i,w.current=h,r._names.array.add(i),e.rules&&r.register(i,e.rules);const x=m.useCallback(({values:_,name:v})=>{if(v===k.current||!v){const V=c(_,k.current);Array.isArray(V)&&(d(V),A.current=V.map(Y))}},[]);Fe({callback:x,subject:r._subjects.array});const D=m.useCallback(_=>{b.current=!0,r._updateFieldArray(i,_)},[r,i]),N=(_,v)=>{const V=q(j(_)),S=ke(r._getFieldArray(i),V);r._names.focus=pe(i,S.length-1,v),A.current=ke(A.current,V.map(Y)),D(S),d(S),r._updateFieldArray(i,S,ke,{argA:Se(_)})},ee=(_,v)=>{const V=q(j(_)),S=Ee(r._getFieldArray(i),V);r._names.focus=pe(i,0,v),A.current=Ee(A.current,V.map(Y)),D(S),d(S),r._updateFieldArray(i,S,Ee,{argA:Se(_)})},ue=_=>{const v=Re(r._getFieldArray(i),_);A.current=Re(A.current,_),D(v),d(v),r._updateFieldArray(i,v,Re,{argA:_})},H=(_,v,V)=>{const S=q(j(v)),J=Ce(r._getFieldArray(i),_,S);r._names.focus=pe(i,_,V),A.current=Ce(A.current,_,S.map(Y)),D(J),d(J),r._updateFieldArray(i,J,Ce,{argA:_,argB:Se(v)})},K=(_,v)=>{const V=r._getFieldArray(i);Le(V,_,v),Le(A.current,_,v),D(V),d(V),r._updateFieldArray(i,V,Le,{argA:_,argB:v},!1)},Z=(_,v)=>{const V=r._getFieldArray(i);De(V,_,v),De(A.current,_,v),D(V),d(V),r._updateFieldArray(i,V,De,{argA:_,argB:v},!1)},R=(_,v)=>{const V=j(v),S=er(r._getFieldArray(i),_,V);A.current=[...S].map((J,F)=>!J||F===_?Y():A.current[F]),D(S),d([...S]),r._updateFieldArray(i,S,er,{argA:_,argB:V},!0,!1)},z=_=>{const v=q(j(_));A.current=v.map(Y),D([...v]),d([...v]),r._updateFieldArray(i,[...v],V=>V,{},!0,!1)};return m.useEffect(()=>{if(r._stateFlags.action=!1,Ne(i,r._names)&&r._subjects.state.next({}),b.current&&(!je(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([i]).then(_=>{const v=c(_.errors,i),V=c(r._formState.errors,i);(V?!v&&V.type:v&&v.type)&&(v?E(r._formState.errors,i,v):U(r._formState.errors,i),r._subjects.state.next({errors:r._formState.errors}))});else{const _=c(r._fields,i);_&&_._f&&Ie(_,c(r._formValues,i),r._options.criteriaMode===$.all,r._options.shouldUseNativeValidation,!0).then(v=>!I(v)&&r._subjects.state.next({errors:fr(r._formState.errors,v,i)}))}r._subjects.watch.next({name:i,values:r._formValues}),r._names.focus&&ge(r._fields,_=>!!_&&_.startsWith(r._names.focus)),r._names.focus="",r._proxyFormState.isValid&&r._updateValid()},[h,i,r]),m.useEffect(()=>(!c(r._formValues,i)&&r._updateFieldArray(i),()=>{(r._options.shouldUnregister||l)&&r.unregister(i)}),[i,r,n,l]),{swap:m.useCallback(K,[D,i,r]),move:m.useCallback(Z,[D,i,r]),prepend:m.useCallback(ee,[D,i,r]),append:m.useCallback(N,[D,i,r]),remove:m.useCallback(ue,[D,i,r]),insert:m.useCallback(H,[D,i,r]),update:m.useCallback(R,[D,i,r]),replace:m.useCallback(z,[D,i,r]),fields:m.useMemo(()=>h.map((_,v)=>({..._,[n]:A.current[v]||Y()})),[h,n])}}function Oe(){let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var Ae=e=>P(e)||!tr(e);function ie(e,t){if(Ae(e)||Ae(t))return e===t;if(se(e)&&se(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const n of r){const l=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const h=t[n];if(se(l)&&se(h)||T(l)&&T(h)||Array.isArray(l)&&Array.isArray(h)?!ie(l,h):l!==h)return!1}}return!0}var qe=e=>{const t=e?e.ownerDocument:0,r=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof r},hr=e=>e.type==="select-multiple",Mr=e=>He(e)||ce(e),Te=e=>qe(e)&&e.isConnected,gr=e=>{for(const t in e)if(_e(e[t]))return!0;return!1};function me(e,t={}){const r=Array.isArray(e);if(T(e)||r)for(const i in e)Array.isArray(e[i])||T(e[i])&&!gr(e[i])?(t[i]=Array.isArray(e[i])?[]:{},me(e[i],t[i])):P(e[i])||(t[i]=!0);return t}function _r(e,t,r){const i=Array.isArray(e);if(T(e)||i)for(const n in e)Array.isArray(e[n])||T(e[n])&&!gr(e[n])?C(t)||Ae(r[n])?r[n]=Array.isArray(e[n])?me(e[n],[]):{...me(e[n])}:_r(e[n],P(t)?{}:t[n],r[n]):ie(e[n],t[n])?delete r[n]:r[n]=!0;return r}var Me=(e,t)=>_r(e,t,me(t)),vr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>C(e)?e:t?e===""?NaN:e&&+e:r&&Q(e)?new Date(e):i?i(e):e;function Ue(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return $e(t)?t.files:He(t)?yr(e.refs).value:hr(t)?[...t.selectedOptions].map(({value:r})=>r):ce(t)?dr(e.refs).value:vr(C(t.value)?e.ref.value:t.value,e)}var Ur=(e,t,r,i)=>{const n={};for(const l of e){const h=c(t,l);h&&E(n,l,h._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:i}},oe=e=>C(e)?void 0:ve(e)?e.source:T(e)?ve(e.value)?e.value.source:e.value:e,Br=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function rr(e,t,r){const i=c(e,r);if(i||We(r))return{error:i,name:r};const n=r.split(".");for(;n.length;){const l=n.join("."),h=c(t,l),d=c(e,l);if(h&&!Array.isArray(h)&&r!==l)return{name:r};if(d&&d.type)return{name:l,error:d};n.pop()}return{name:r}}var Pr=(e,t,r,i,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?i.isOnBlur:n.isOnBlur)?!e:(r?i.isOnChange:n.isOnChange)?e:!0,Nr=(e,t)=>!ae(c(e,t)).length&&U(e,t);const Ir={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function jr(e={}){let t={...Ir,...e},r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},n=j(t.defaultValues)||{},l=t.shouldUnregister?{}:j(n),h={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},A,w=0,k={};const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:Oe(),array:Oe(),state:Oe()},D=je(t.mode),N=je(t.reValidateMode),ee=t.criteriaMode===$.all,ue=s=>a=>{clearTimeout(w),w=window.setTimeout(s,a)},H=async()=>{let s=!1;return b.isValid&&(s=t.resolver?I((await v()).errors):await S(i,!0),s!==r.isValid&&(r.isValid=s,x.state.next({isValid:s}))),s},K=(s,a=[],u,f,y=!0,o=!0)=>{if(f&&u){if(h.action=!0,o&&Array.isArray(c(i,s))){const g=u(c(i,s),f.argA,f.argB);y&&E(i,s,g)}if(b.errors&&o&&Array.isArray(c(r.errors,s))){const g=u(c(r.errors,s),f.argA,f.argB);y&&E(r.errors,s,g),Nr(r.errors,s)}if(b.touchedFields&&o&&Array.isArray(c(r.touchedFields,s))){const g=u(c(r.touchedFields,s),f.argA,f.argB);y&&E(r.touchedFields,s,g)}b.dirtyFields&&(r.dirtyFields=Me(n,l)),x.state.next({isDirty:F(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else E(l,s,a)},Z=(s,a)=>{E(r.errors,s,a),x.state.next({errors:r.errors})},R=(s,a,u,f)=>{const y=c(i,s);if(y){const o=c(l,s,C(u)?c(n,s):u);C(o)||f&&f.defaultChecked||a?E(l,s,a?o:Ue(y._f)):M(s,o),h.mount&&H()}},z=(s,a,u,f,y)=>{let o=!1;const g={name:s},L=c(r.touchedFields,s);if(b.isDirty){const B=r.isDirty;r.isDirty=g.isDirty=F(),o=B!==g.isDirty}if(b.dirtyFields&&(!u||f)){const B=c(r.dirtyFields,s);ie(c(n,s),a)?U(r.dirtyFields,s):E(r.dirtyFields,s,!0),g.dirtyFields=r.dirtyFields,o=o||B!==c(r.dirtyFields,s)}return u&&!L&&(E(r.touchedFields,s,u),g.touchedFields=r.touchedFields,o=o||b.touchedFields&&L!==u),o&&y&&x.state.next(g),o?g:{}},_=(s,a,u,f)=>{const y=c(r.errors,s),o=b.isValid&&ne(a)&&r.isValid!==a;if(e.delayError&&u?(A=ue(()=>Z(s,u)),A(e.delayError)):(clearTimeout(w),A=null,u?E(r.errors,s,u):U(r.errors,s)),(u?!ie(y,u):y)||!I(f)||o){const g={...f,...o&&ne(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,...g},x.state.next(g)}k[s]--,b.isValidating&&!Object.values(k).some(g=>g)&&(x.state.next({isValidating:!1}),k={})},v=async s=>t.resolver?await t.resolver({...l},t.context,Ur(s||d.mount,i,t.criteriaMode,t.shouldUseNativeValidation)):{},V=async s=>{const{errors:a}=await v();if(s)for(const u of s){const f=c(a,u);f?E(r.errors,u,f):U(r.errors,u)}else r.errors=a;return a},S=async(s,a,u={valid:!0})=>{for(const f in s){const y=s[f];if(y){const{_f:o,...g}=y;if(o){const L=d.array.has(o.name),B=await Ie(y,c(l,o.name),ee,t.shouldUseNativeValidation,L);if(B[o.name]&&(u.valid=!1,a))break;!a&&(c(B,o.name)?L?fr(r.errors,B,o.name):E(r.errors,o.name,B[o.name]):U(r.errors,o.name))}g&&await S(g,a,u)}}return u.valid},J=()=>{for(const s of d.unMount){const a=c(i,s);a&&(a._f.refs?a._f.refs.every(u=>!Te(u)):!Te(a._f.ref))&&xe(s)}d.unMount=new Set},F=(s,a)=>(s&&a&&E(l,s,a),!ie(fe(),n)),p=(s,a,u)=>{const f={...h.mount?l:C(a)?n:Q(s)?{[s]:a}:a};return or(s,d,f,u)},O=s=>ae(c(h.mount?l:n,s,e.shouldUnregister?c(n,s,[]):[])),M=(s,a,u={})=>{const f=c(i,s);let y=a;if(f){const o=f._f;o&&(!o.disabled&&E(l,s,vr(a,o)),y=Pe&&qe(o.ref)&&P(a)?"":a,hr(o.ref)?[...o.ref.options].forEach(g=>g.selected=y.includes(g.value)):o.refs?ce(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(y)?!!y.find(L=>L===g.value):y===g.value)):o.refs[0]&&(o.refs[0].checked=!!y):o.refs.forEach(g=>g.checked=g.value===y):$e(o.ref)?o.ref.value="":(o.ref.value=y,o.ref.type||x.watch.next({name:s})))}(u.shouldDirty||u.shouldTouch)&&z(s,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&re(s)},G=(s,a,u)=>{for(const f in a){const y=a[f],o=`${s}.${f}`,g=c(i,o);(d.array.has(s)||!Ae(y)||g&&!g._f)&&!se(y)?G(o,y,u):M(o,y,u)}},W=(s,a,u={})=>{const f=c(i,s),y=d.array.has(s),o=j(a);E(l,s,o),y?(x.array.next({name:s,values:l}),(b.isDirty||b.dirtyFields)&&u.shouldDirty&&(r.dirtyFields=Me(n,l),x.state.next({name:s,dirtyFields:r.dirtyFields,isDirty:F(s,o)}))):f&&!f._f&&!P(o)?G(s,o,u):M(s,o,u),Ne(s,d)&&x.state.next({}),x.watch.next({name:s})},le=async s=>{const a=s.target;let u=a.name;const f=c(i,u);if(f){let y,o;const g=a.type?Ue(f._f):sr(s),L=s.type===he.BLUR||s.type===he.FOCUS_OUT,B=!Br(f._f)&&!t.resolver&&!c(r.errors,u)&&!f._f.deps||Pr(L,c(r.touchedFields,u),r.isSubmitted,N,D),de=Ne(u,d,L);E(l,u,g),L?(f._f.onBlur&&f._f.onBlur(s),A&&A(0)):f._f.onChange&&f._f.onChange(s);const we=z(u,g,L,!1),wr=!I(we)||de;if(!L&&x.watch.next({name:u,type:s.type}),B)return b.isValid&&H(),wr&&x.state.next({name:u,...de?{}:we});if(!L&&de&&x.state.next({}),k[u]=k[u]?k[u]+1:1,x.state.next({isValidating:!0}),t.resolver){const{errors:Ge}=await v([u]),pr=rr(r.errors,i,u),Je=rr(Ge,i,pr.name||u);y=Je.error,u=Je.name,o=I(Ge)}else y=(await Ie(f,c(l,u),ee,t.shouldUseNativeValidation))[u],H();f._f.deps&&re(f._f.deps),_(u,o,y,we)}},re=async(s,a={})=>{let u,f;const y=q(s);if(x.state.next({isValidating:!0}),t.resolver){const o=await V(C(s)?s:y);u=I(o),f=s?!y.some(g=>c(o,g)):u}else s?(f=(await Promise.all(y.map(async o=>{const g=c(i,o);return await S(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&H()):f=u=await S(i);return x.state.next({...!Q(s)||b.isValid&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors,isValidating:!1}),a.shouldFocus&&!f&&ge(i,o=>o&&c(r.errors,o),s?y:d.mount),f},fe=s=>{const a={...n,...h.mount?l:{}};return C(s)?a:Q(s)?c(a,s):s.map(u=>c(a,u))},Ke=(s,a)=>({invalid:!!c((a||r).errors,s),isDirty:!!c((a||r).dirtyFields,s),isTouched:!!c((a||r).touchedFields,s),error:c((a||r).errors,s)}),Ar=s=>{s?q(s).forEach(a=>U(r.errors,a)):r.errors={},x.state.next({errors:r.errors})},mr=(s,a,u)=>{const f=(c(i,s,{_f:{}})._f||{}).ref;E(r.errors,s,{...a,ref:f}),x.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&f&&f.focus&&f.focus()},br=(s,a)=>_e(s)?x.watch.subscribe({next:u=>s(p(void 0,a),u)}):p(s,a,!0),xe=(s,a={})=>{for(const u of s?q(s):d.mount)d.mount.delete(u),d.array.delete(u),c(i,u)&&(a.keepValue||(U(i,u),U(l,u)),!a.keepError&&U(r.errors,u),!a.keepDirty&&U(r.dirtyFields,u),!a.keepTouched&&U(r.touchedFields,u),!t.shouldUnregister&&!a.keepDefaultValue&&U(n,u));x.watch.next({}),x.state.next({...r,...a.keepDirty?{isDirty:F()}:{}}),!a.keepIsValid&&H()},Ve=(s,a={})=>{let u=c(i,s);const f=ne(a.disabled);return E(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),u?f&&E(l,s,a.disabled?void 0:c(l,s,Ue(u._f))):R(s,!0,a.value),{...f?{disabled:a.disabled}:{},...t.shouldUseNativeValidation?{required:!!a.required,min:oe(a.min),max:oe(a.max),minLength:oe(a.minLength),maxLength:oe(a.maxLength),pattern:oe(a.pattern)}:{},name:s,onChange:le,onBlur:le,ref:y=>{if(y){Ve(s,a),u=c(i,s);const o=C(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,g=Mr(o),L=u._f.refs||[];if(g?L.find(B=>B===o):o===u._f.ref)return;E(i,s,{_f:{...u._f,...g?{refs:[...L.filter(Te),o,...Array.isArray(c(n,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),R(s,!1,void 0,o)}else u=c(i,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(ir(d.array,s)&&h.action)&&d.unMount.add(s)}}},Ze=()=>t.shouldFocusError&&ge(i,s=>s&&c(r.errors,s),d.mount),Fr=(s,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=!0,y=j(l);x.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:o,values:g}=await v();r.errors=o,y=g}else await S(i);I(r.errors)?(x.state.next({errors:{},isSubmitting:!0}),await s(y,u)):(a&&await a({...r.errors},u),Ze())}catch(o){throw f=!1,o}finally{r.isSubmitted=!0,x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(r.errors)&&f,submitCount:r.submitCount+1,errors:r.errors})}},xr=(s,a={})=>{c(i,s)&&(C(a.defaultValue)?W(s,c(n,s)):(W(s,a.defaultValue),E(n,s,a.defaultValue)),a.keepTouched||U(r.touchedFields,s),a.keepDirty||(U(r.dirtyFields,s),r.isDirty=a.defaultValue?F(s,c(n,s)):F()),a.keepError||(U(r.errors,s),b.isValid&&H()),x.state.next({...r}))},Vr=(s,a={})=>{const u=s||n,f=j(u),y=s&&!I(s)?f:n;if(a.keepDefaultValues||(n=u),!a.keepValues){if(a.keepDirtyValues)for(const o of d.mount)c(r.dirtyFields,o)?E(y,o,c(l,o)):W(o,c(y,o));else{if(Pe&&C(s))for(const o of d.mount){const g=c(i,o);if(g&&g._f){const L=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(qe(L)){const B=L.closest("form");if(B){B.reset();break}}}}i={}}l=e.shouldUnregister?a.keepDefaultValues?j(n):{}:f,x.array.next({values:y}),x.watch.next({values:y})}d={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!b.isValid||!!a.keepIsValid,h.watch=!!e.shouldUnregister,x.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:a.keepDirty||a.keepDirtyValues?r.isDirty:!!(a.keepDefaultValues&&!ie(s,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:a.keepDirty||a.keepDirtyValues?r.dirtyFields:a.keepDefaultValues&&s?Me(n,s):{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:Ve,unregister:xe,getFieldState:Ke,_executeSchema:v,_focusError:Ze,_getWatch:p,_getDirty:F,_updateValid:H,_removeUnmounted:J,_updateFieldArray:K,_getFieldArray:O,_subjects:x,_proxyFormState:b,get _fields(){return i},get _formValues(){return l},get _stateFlags(){return h},set _stateFlags(s){h=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:re,register:Ve,handleSubmit:Fr,watch:br,setValue:W,getValues:fe,reset:(s,a)=>Vr(_e(s)?s(l):s,a),resetField:xr,clearErrors:Ar,unregister:xe,setError:mr,setFocus:(s,a={})=>{const u=c(i,s),f=u&&u._f;if(f){const y=f.refs?f.refs[0]:f.ref;y.focus&&(y.focus(),a.shouldSelect&&y.select())}},getFieldState:Ke}}function Jr(e={}){const t=m.useRef(),[r,i]=m.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...jr(e),formState:r});const n=t.current.control;return n._options=e,Fe({subject:n._subjects.state,callback:m.useCallback(l=>{ur(l,n._proxyFormState,!0)&&(n._formState={...n._formState,...l},i({...n._formState}))},[n])}),m.useEffect(()=>{n._stateFlags.mount||(n._proxyFormState.isValid&&n._updateValid(),n._stateFlags.mount=!0),n._stateFlags.watch&&(n._stateFlags.watch=!1,n._subjects.state.next({})),n._removeUnmounted()}),m.useEffect(()=>{r.submitCount&&n._focusError()},[n,r.submitCount]),t.current.formState=ar(r,n),t.current}export{Zr as C,Kr as F,Hr as M,Dr as a,Jr as b,Gr as c,c as g,be as u};
